<!doctype html><html lang=en><head><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><title>Code Maintainability Is Not Always a Technical Problem | Denis Rechkunov | rdner's blog</title>
<meta name=description content="When it comes to debating about code maintainability, I often hear about software architecture, design patterns, testing, refactoring, etc. But I find it only partially true. No matter how good your software design is, no matter how good your tests are, if you work in a big team on a big project, it won't save you from collapse. Here is my take on code maintainability and things that I don't hear other people talk about."><meta name=author content="Denis Rechkunov"><meta name=copyright content="Denis Rechkunov"><meta property="og:url" content="https://rdner.de/posts/tech/code-maintainability-is-not-always-a-technical-problem/"><meta property="og:site_name" content="rdner's blog"><meta property="og:title" content="Code Maintainability Is Not Always a Technical Problem | Denis Rechkunov"><meta property="og:description" content="When it comes to debating about code maintainability, I often hear about software architecture, design patterns, testing, refactoring, etc. But I find it only partially true. No matter how good your software design is, no matter how good your tests are, if you work in a big team on a big project, it won't save you from collapse. Here is my take on code maintainability and things that I don't hear other people talk about."><meta property="og:locale" content="en_US"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2025-07-05T18:19:58+02:00"><meta property="article:modified_time" content="2025-07-05T18:19:58+02:00"><meta property="article:tag" content="maintainability"><meta property="article:tag" content="software"><meta property="article:tag" content="code"><meta property="article:tag" content="CI"><meta property="og:image" content="https://rdner.de/posts/tech/code-maintainability-is-not-always-a-technical-problem/cover.jpg"><meta property="og:image:secure_url" content="https://rdner.de/posts/tech/code-maintainability-is-not-always-a-technical-problem/cover.jpg"><meta property="og:image:type" content="image/jpeg"><meta name=theme-color content="#5a2673"><meta name=apple-mobile-web-app-capable content="yes"><meta name=apple-mobile-web-app-title content="rdner's blog"><meta name=mobile-web-app-capable content="yes"><meta name=application-name content="rdner's blog"><meta name=msapplication-TileColor content="#5a2673"><meta name=license content="http://creativecommons.org/licenses/by-nc-sa/4.0/"><meta name=theme content="Loud Pragmatic"><link rel=canonical href=https://rdner.de/posts/tech/code-maintainability-is-not-always-a-technical-problem/><style>:root{--main-color:#5a2673;--bg-color:#141116;--highlight-color:#8952A2;--border-color:#D7DADC;--card-bg-color:#252426;--card-overlay-color:rgba(20,17,22,0.6);--text-color:#D7DADC;--secondary-text-color:#C0C0C0;--highlight-text-color:#FFF}</style><link rel=stylesheet href=/css/styles.css type=text/css><link rel=icon href=/favicon.ico sizes=48x48><link rel=icon href=/favicon.svg sizes=any type=image/svg+xml><link rel=apple-touch-icon href=/apple-touch-icon.png><link rel=mask-icon href=/safari-pinned-tab.svg color=#5a2673><link rel=manifest href=/site.webmanifest><link rel=license href=http://creativecommons.org/licenses/by-nc-sa/4.0/><meta name=fediverse:creator content="@rdner@mastodon.social"><script defer data-domain=rdner.de src=https://plausible.io/js/script.js></script></head><body><header class=site-header><nav class="site-nav undecorated"><ul class=no-bullets><li><a href=/><img class=logo alt="website logo" src=/images/logo.svg></a></li><li class=flex-expanded></li><li><a href=/posts/ title="Blog Posts">Posts</a></li><li><a href=/music/ title="Music Releases">Music</a></li><li><a href=/talks/ title="My Talks">Talks</a></li><li><a href=/cv.html title="My Most Recent CV">CV</a></li><li><a href=https://www.linkedin.com/in/rdner title="My LinkedIn Profile" rel="nofollow noreferrer" target=_blank><img src=/images/menu/linkedin.svg alt=LinkedIn></a></li><li><a href=https://github.com/rdner title="My Github Profile" rel="nofollow noreferrer" target=_blank><img src=/images/menu/github.svg alt=Github></a></li><li><a href=https://mastodon.social/@rdner title="My Mastodon Profile" rel="nofollow noreferrer me" target=_blank><img src=/images/menu/mastodon.svg alt=Mastodon></a></li></ul></nav></header><main><div class=container><div class="breadcrumbs undecorated"><span class=breadcrumb><a href=/>Home</a>
</span>→
<span class=breadcrumb><a href=/posts/>Blog Posts</a>
</span>→
<span class=breadcrumb><a href=/posts/tech/>Technology</a>
</span>→
<span class="final breadcrumb">Code Maintainability Is Not Always a Technical Problem</span></div><article class=post><header class="post-header with-cover" style=background-image:url(/posts/tech/code-maintainability-is-not-always-a-technical-problem/cover.jpg)><h1 class="shadowed unbordered centered">Code Maintainability Is Not Always a Technical Problem</h1><div class=post-summary-card><div class=info><img class=author-picture alt="author picture" src=/images/rdner.jpg><div><div class=author-name>Author:&nbsp;
<a href=mailto:denis@rdner.de>Denis Rechkunov</a></div><div class=facts><time datetime="2025-07-05 18:19:58 +0200 +0200">Jul 5, 2025</time>
&nbsp;/&nbsp;
~2300&nbsp;words
&nbsp;/&nbsp;11&nbsp;min&nbsp;read</div></div></div><p>When it comes to debating about code maintainability, I often hear about software architecture, design patterns, testing, refactoring, etc. But I find it only partially true. No matter how good your software design is, no matter how good your tests are, if you work in a big team on a big project, it won't save you from collapse. Here is my take on code maintainability and things that I don't hear other people talk about.</p><div>Image credit: Stockholm. September 2018</div></div></header><div class=content><aside class="toc undecorated"><nav id=TableOfContents><ul><li><a href=#context>Context</a></li><li><a href=#on-boarding>On-boarding</a></li><li><a href=#introducing-go-linter>Introducing Go Linter</a><ul><li><a href=#alignment>Alignment</a></li><li><a href=#automation>Automation</a></li><li><a href=#fixing-existing-issues>Fixing Existing Issues</a></li><li><a href=#learnings>Learnings</a></li></ul></li><li><a href=#three-years-later>Three Years Later</a><ul><li><a href=#from-total-chaos-to-order>From Total Chaos to Order</a></li><li><a href=#lessons-and-learning>Lessons and Learning</a></li></ul></li><li><a href=#not-always-technical>Not Always Technical</a><ul><li><a href=#agreement>Agreement</a></li><li><a href=#knowledge-sharing>Knowledge Sharing</a></li><li><a href=#mentoring>Mentoring</a></li><li><a href=#documenting>Documenting</a></li></ul></li><li><a href=#final-words>Final Words</a></li></ul></nav></aside><h2 id=context>Context&nbsp;<a class="undecorated heading-anchor" href=#context>#</a></h2><p>First, who am I to even talk about it? What is my background?</p><p>I&rsquo;ve been building software for the last 15 years. I&rsquo;ve worked at 8 companies ranging from small startups to one of the biggest tech companies in the world.</p><p>At the moment I primarily work on
<a href=https://github.com/elastic/beats rel="nofollow noreferrer" target=_blank title="Elastic Beats">Beats</a>
. A few facts about this repository (July 2025):</p><ul><li>~15 teams work on it</li><li>918 unique contributors (including external ones)</li><li>4,183 Go files</li><li>653,168 lines of code</li><li>45,205 pull requests</li></ul><p>So, it&rsquo;s a relatively big project with quite a few people working on it. Let&rsquo;s take my path from onboarding to the present day as an example for this article.</p><h2 id=on-boarding>On-boarding&nbsp;<a class="undecorated heading-anchor" href=#on-boarding>#</a></h2><p>I joined in November 2021 and opened my first PR about a month later. This was quite a long on-boarding time, and there&rsquo;s a reason for it.</p><p>The nature of the product makes it quite complex — data ingestion from various sources to various outputs with data processing in between. But also, because so many people work on this project, they approach problems very differently and write using very different code styles. There was a time when I thought I finally understood the pattern but went to another file and&mldr;</p><figure class=quote><span>&ldquo;</span><blockquote><p>Nope. Here it&rsquo;s completely different, so what pattern should I follow in my PR?</p></blockquote><span>&bdquo;</span></figure><p>Then I open a PR with what I think was the most common pattern I followed just to learn nobody is supposed to write like so anymore. The reviewing team does not accept it.</p><p>What could help to solve this?</p><p>A few months later, in March, I finally had enough and started my initiative of adding the
<a href=https://github.com/golangci/golangci-lint rel="nofollow noreferrer" target=_blank>golangci-lint</a>
to the repository.</p><h2 id=introducing-go-linter>Introducing Go Linter&nbsp;<a class="undecorated heading-anchor" href=#introducing-go-linter>#</a></h2><p>To some people it might sound simple, but adding a linter includes:</p><ul><li>I need to align a dozen teams on one set of linter rules</li><li>Figure out automation on PRs</li><li>We need to address already existing issues in the repository</li></ul><p>Adding the linter was supposed to address a subset of the problems, not to solve all of them. A few examples the linter would help you with:</p><ul><li>There is a security issue in your code</li><li>You don&rsquo;t check a returned error</li><li>You use a deprecated function</li><li>You try to use a banned dependency</li><li>Dead/unreachable code</li><li>Repeated values that can be replaced by a constant</li><li>Typos in the comments</li><li><code>context.Context</code> is not used but should be</li><li>&mldr;</li></ul><p>So, at least it would reduce the load on the code reviewers and would give contributors more confidence.</p><h3 id=alignment>Alignment&nbsp;<a class="undecorated heading-anchor" href=#alignment>#</a></h3><p>Naturally, the alignment on the same set of rules took some time. Eventually we got there, and the PR was merged 5 days later. Better than I anticipated.</p><p>Not a technical problem at all, as you can see.</p><h3 id=automation>Automation&nbsp;<a class="undecorated heading-anchor" href=#automation>#</a></h3><p>GitHub has a built-in action for this linter, and setting it up for pull requests was not challenging in any way. The tricky part was the repository size. When we tried to run the linter against the entire repository, it just crashed. It was literally too much for this poor program.</p><p>The only feasible solution I could find was to run it against <strong>some</strong> files at the time. A commit changes? Pull request changes? I added a local command for everyone that could run the linter on the diff against the <code>main</code> branch. This helped to identify issues in the local changes even before opening a PR.</p><p>For already opened PRs, we just limited the scope of checks to all files edited by the current PR. This also offered us a solution to the next problem.</p><h3 id=fixing-existing-issues>Fixing Existing Issues&nbsp;<a class="undecorated heading-anchor" href=#fixing-existing-issues>#</a></h3><p>It was absolutely unrealistic to solve all the linter issues in the entire repository, so proposing that was not even on the table.</p><p>Instead we made an agreement on our team:</p><ul><li>You touched the files in any way: you solve all the linter issues in them. Unless some emergency/blocking changes.</li><li>This does not apply to external contributors; it&rsquo;s unfair to put this burden on them.</li></ul><p>Some people would say it&rsquo;s too much to ask, but in the end it all depends on your perspective.</p><p>If you think about it as:</p><figure class=quote><span>&ldquo;</span><blockquote><p>I have a chance to fix a few issues on the way. This will make our code more maintainable and resilient.</p></blockquote><span>&bdquo;</span></figure><p>and <strong>not</strong>:</p><figure class=quote><span>&ldquo;</span><blockquote><p>Oh, that contributor made so many silly mistakes! Grr, why do I have to do this?</p></blockquote><span>&bdquo;</span></figure><p>then it should work out just fine.</p><p>Yes, it&rsquo;s annoying that you have to fix issues after someone else every time you make a small change, but this pays off in the long run. It exposed countless amounts of missed error checks and other kinds of bugs and made our code base better over time. And it continues to do so even now.</p><p>Again, a non-technical problem, as you can see.</p><h3 id=learnings>Learnings&nbsp;<a class="undecorated heading-anchor" href=#learnings>#</a></h3><p>It does not matter how obvious a certain improvement is to you. You have to be a very good salesperson in order to convince a group of people that something is worth the big change. People are normally resistant to change. Change coming from someone else invades their world and is treated as such. Keep it in mind.</p><p>There were a few learnings on the way:</p><ul><li>It&rsquo;s better to collect a few situations (links, screenshots, etc.) where having a linter would have helped. It&rsquo;s hard to argue against such evidence.</li><li>Humans are more likely to follow demands from a machine than from another human. An automation is seen as a neutral party. We all agreed on the set of rules, so people feel obliged to follow them. Changing rules needs a realignment, and not everybody wants to deal with that unless it&rsquo;s worth the effort when something is really wrong.</li><li>Set realistic expectations: don&rsquo;t expect to halt everything and dedicate a few months to fixing linter issues. This is not happening. Instead, try to reduce the scope and come up with a way to iterate on the issues.</li></ul><p>These are the main learnings from this story, and all of them are about collaborating with other people.</p><h2 id=three-years-later>Three Years Later&nbsp;<a class="undecorated heading-anchor" href=#three-years-later>#</a></h2><p>Three years after the linter work, I was asked to drive another effort in
<a href=https://github.com/elastic/elastic-agent rel="nofollow noreferrer" target=_blank title="Elastic Agent Repository">Elastic Agent</a>
.</p><p>This time it was a flaky test problem. At some point our <strong>CI reliability numbers dropped to 10%</strong>. Occasional fixes here and there were not cutting it anymore, and our team needed someone to work on this full time. I volunteered. Little did I know what I was getting myself into.</p><h3 id=from-total-chaos-to-order>From Total Chaos to Order&nbsp;<a class="undecorated heading-anchor" href=#from-total-chaos-to-order>#</a></h3><p>Dozens of tests were failing; in different CI runs, different tests failed. Services we depended on were failing during our test runs. Even using the Google Cloud Provider API was failing at times.</p><p>This looked very overwhelming, so I started with setting the right processes in place and trying to order the chaos:</p><ul><li>I created an issue template for reporting a flaky test, wrote a guideline on how to report it, and shared it with the team.</li><li>I created a project dashboard with automation around such issues.</li><li>I set up weekly reporting (semi-automated in a spreadsheet) about the origin of failures, categorized. Pie charts, statistics, and so on. This became a section of our department&rsquo;s weekly update email.</li></ul><p>Suddenly, we had a clear overview of what exactly is contributing to these CI failures. What contributes the most and where we need to focus our attention.</p><p>The biggest source of flaky tests was the way we get the list of versions of our product. You see, in Elastic Agent we have the <code>upgrade</code> command. We support upgrades from a range of previous versions to the latest one. We have to test all combinations of upgrades and downgrades to make sure our customers would not brick their environment in the process. This includes unreleased daily snapshot versions too.</p><p>The version set is constantly changing because of new snapshots or public releases, and the decision was made to just access our version API, in each run and request the current set of versions. This is supposed to be an internal-only API and nobody ever thought about its scalability. When I talked to the owning team about this issue, they even told me that the API is deprecated and I should&rsquo;ve used something else. Oh, well.</p><p>I mitigated this issue by introducing a daily GitHub action that fetches the relevant version set and opens a PR with editing a static file in the repository. All tests now use this static file instead; the version API does not crash. The version set is reviewed, approved, and merged only if it actually works. This is how we significantly reduced the number of flaky tests.</p><h3 id=lessons-and-learning>Lessons and Learning&nbsp;<a class="undecorated heading-anchor" href=#lessons-and-learning>#</a></h3><p>This work required me to:</p><ul><li>Collaborate on my findings across teams</li><li>Coordinate other engineers who contributed to the solutions</li><li>Take one rabbit hole after another almost weekly</li></ul><p>In about 6 months we finally started to achieve high reliability numbers again, so I could switch to working on something else again.</p><p>This work was not easy, but it exposed some important company-wide issues and pointed to some common mistakes developers make while writing tests. Only by walking this painful could we path have these important learnings:</p><ul><li>Sometimes a big problem cannot be solved unless you have a structured overview — it&rsquo;s worth spending time on this first. Don&rsquo;t just skip and rerun; document.</li><li>Every remote service fails at some point, even Google Cloud, even when your tests are also running on Google Cloud. Put retries.</li><li>Reduce your runtime dependencies to a minimum or to what you actually want to test together in integration. Prepare/upgrade the testing environment in daily jobs.</li><li>Don&rsquo;t use time as a part of an identifier. Ever. No. Please don&rsquo;t. Use UUID. Strive not to rely on time in tests in general.</li><li>If your tests fail only on certain hardware, it&rsquo;s possible the hardware is defective. Yes, really. Say hi to early ARM Ampere machines for me.</li><li>CI reliability is not a one-time fix. It&rsquo;s an ongoing effort the entire team should be contributing to. Set the right expectations and communicate to the team.</li></ul><p>There were more; these are highlights.</p><p>Eventually, everything came down to setting the right processes in place, lots of communication, collaboration, and mentoring team members on certain topics. Although at times it was about technical problems, but the human aspect of it definitely exceeded in its effort.</p><h2 id=not-always-technical>Not Always Technical&nbsp;<a class="undecorated heading-anchor" href=#not-always-technical>#</a></h2><p>I hope these 2 short stories gave you a fresh perspective on code maintainability. It&rsquo;s not always the software design, it&rsquo;s not always the programming language, and it&rsquo;s not always the presence of tests. There is a huge human aspect contributing to code maintainability. Most of the time it&rsquo;s all about team agreement, knowledge sharing, mentoring, and documenting.</p><h3 id=agreement>Agreement&nbsp;<a class="undecorated heading-anchor" href=#agreement>#</a></h3><p>Depending on the size of your team, it can be very challenging to agree on something. I&rsquo;ve seen 3 developers with absolutely opposite points of view. Some people just want to be heard, want to contribute to the conversation although they don&rsquo;t bring anything new to the table. Big discussions are very inefficient. However, it&rsquo;s a delicate balance: tell others what to do, and you might miss a very valuable perspective, or you risk working with passive-aggressive colleagues.</p><p>In my experience, I find it quite effective to start with a small group, maybe even 1 on 1, trying to sell your solution. Then expand your workgroup, and when it comes to a vote, most of the team members would already be on board. You also collect valuable feedback and iterate on the solution while doing so.</p><h3 id=knowledge-sharing>Knowledge Sharing&nbsp;<a class="undecorated heading-anchor" href=#knowledge-sharing>#</a></h3><p>In order to make an impact in certain areas, you would need to communicate your knowledge clearly. This is as important as any technical skill. Good storytelling, clear presentation, and confidence are crucial.</p><p>Make sure your presentation skills are sufficient. Collect feedback and work on it. It&rsquo;s not about you; it&rsquo;s about how useful you can be to the team.</p><h3 id=mentoring>Mentoring&nbsp;<a class="undecorated heading-anchor" href=#mentoring>#</a></h3><p>The best way to solve a long-running issue on the team is to start planting seeds in mentoring and collect the harvest later.</p><p>Do you see certain team members doing something that causes trouble? Volunteer to mentor new hires or even established team members and help them understand the issue by giving clear examples. Let&rsquo;s be honest, not everyone pays attention to presentations on a group call. It&rsquo;s much harder to ignore something when you&rsquo;re in a 1-on-1 mentoring session.</p><h3 id=documenting>Documenting&nbsp;<a class="undecorated heading-anchor" href=#documenting>#</a></h3><p>I&rsquo;m not going to reinvent the wheel here. Just document your findings in the code, in the README, in the PR description, etc. Just have a publicly available place that you can link to in case you encounter a known problem. Everything communicated verbally during a call is lost by default. Make a summary write-up. Decisions made during calls need to become an issue or a comment if you really want anything to get going.</p><h2 id=final-words>Final Words&nbsp;<a class="undecorated heading-anchor" href=#final-words>#</a></h2><p>I once had a conversation where someone said:</p><figure class=quote><span>&ldquo;</span><blockquote><p>Code is maintainable when it&rsquo;s well-tested and the design is right.</p></blockquote><span>&bdquo;</span></figure><p>I hope I convinced you that it&rsquo;s only partially true. One needs to become a good salesperson, an excellent communicator, a confident presenter, and a good mentor in order to create a culture of maintainability on their team.</p></div></article><aside class=separated aria-label="Recent Posts"><h2>Other Posts</h2><ul class="no-bullets undecorated previews"><li class="posts-section preview with-cover shadowed" style=background-image:url(/posts/sport/im-70.3/cover.jpg)><a class=unpadded href=/posts/sport/im-70.3/><article><header><h3 class=title>My Road to IRONMAN 70.3</h3></header><div class=flex-expanded></div><div class=details><p class=content>This is a story of a big life change. One commercial inspired my to take on one of the hardest challenges of my life.</p><div class=facts><time datetime="2023-10-01 00:00:00 +0000 UTC">Oct 1, 2023</time>
&nbsp;/&nbsp;
~4400&nbsp;words
&nbsp;/&nbsp;21&nbsp;min&nbsp;read</div></div></article></a></li><li class="posts-section preview with-cover shadowed" style=background-image:url(/posts/sport/why-run/cover.jpg)><a class=unpadded href=/posts/sport/why-run/><article><header><h3 class=title>Why Run?</h3></header><div class=flex-expanded></div><div class=details><p class=content>Recently quite a few people asked me "Why are you running?", sometimes even followed by something like "it's stupid" or whatever to hint me that I should not. I hope to be able to just send a link to this article next time.</p><div class=facts><time datetime="2022-11-11 00:00:00 +0000 UTC">Nov 11, 2022</time>
&nbsp;/&nbsp;
~2100&nbsp;words
&nbsp;/&nbsp;10&nbsp;min&nbsp;read</div></div></article></a></li><li class="posts-section preview with-cover shadowed" style=background-image:url(/posts/tech/security/privacy-tips/cover.jpg)><a class=unpadded href=/posts/tech/security/privacy-tips/><article><header><h3 class=title>Paranoid Habits. Privacy Tips</h3></header><div class=flex-expanded></div><div class=details><p class=content>This is another write up of my recent talk where I share some information about the modern era of data collection and how you can keep your privacy. At least partially.</p><div class=facts><time datetime="2021-03-10 12:01:16 +0100 +0100">Mar 10, 2021</time>
&nbsp;/&nbsp;
~4000&nbsp;words
&nbsp;/&nbsp;19&nbsp;min&nbsp;read</div></div></article></a></li><li class="posts-section preview with-cover shadowed" style=background-image:url(/posts/motorcycle/granada-spain/cover.jpg)><a class=unpadded href=/posts/motorcycle/granada-spain/><article><header><h3 class=title>Riding in Granada, Spain</h3></header><div class=flex-expanded></div><div class=details><p class=content>This year comes to its end and it's time to summarize. The best thing that happened to me this year was the motorbike trip in Spain, I'd like to share what was so amazing about it. Videos included.</p><div class=facts><time datetime="2019-12-29 00:00:00 +0100 +0100">Dec 29, 2019</time>
&nbsp;/&nbsp;
~1100&nbsp;words
&nbsp;/&nbsp;5&nbsp;min&nbsp;read</div></div></article></a></li></ul></aside></div></main><footer class=site-footer><a href=https://rdner.de/>rdner's blog</a>&nbsp;&copy;&nbsp;2015-2025&nbsp;by&nbsp;Denis Rechkunov&nbsp;<a href=mailto:denis@rdner.de>(denis@rdner.de)</a>.<br>All content is licensed under <a href=https://creativecommons.org/licenses/by-nc-sa/4.0/>CC BY-NC-SA 4.0</a><img src=https://mirrors.creativecommons.org/presskit/icons/cc.svg style=max-width:1em;max-height:1em;margin-left:.2em alt="Creative Commons"><img src=https://mirrors.creativecommons.org/presskit/icons/by.svg style=max-width:1em;max-height:1em;margin-left:.2em alt=Attribution><img src=https://mirrors.creativecommons.org/presskit/icons/nc.svg style=max-width:1em;max-height:1em;margin-left:.2em alt=Non-commercial><img src=https://mirrors.creativecommons.org/presskit/icons/sa.svg style=max-width:1em;max-height:1em;margin-left:.2em alt=Share-alike>.<script type=text/javascript>w=document.getElementById("whoami"),w&&(w.onclick=()=>eval(atob("ZG9jdW1lbnQubG9jYXRpb24gPSAiL3ZpZGVvcy8xLm1wNCI=")))</script></footer></body></html>